<div class="shared-post-textarea-component">
  <div class="post-menu">
    <li role="presentation" [ngClass]="{'active' : typePost === 'post'}">
      <a (click)="onClickWhichTypeIsSelected('post')">Write a Post</a></li>
    <li role="presentation" [ngClass]="{'active' : typePost === 'poll'}">
      <a (click)="onClickWhichTypeIsSelected('poll')">Create Poll</a></li>
    <li
      role="presentation"
      *ngIf="shareMenu"
      [ngClass]="{'active' : typePost === 'share'}"
    >
      <a (click)="onClickWhichTypeIsSelected('share')">Share a Story</a></li>
  </div>
  <div class="post" *ngIf="typePost === 'post'">
    <textarea class="form-control" placeholder="Whats happening?" name="post_title" [(ngModel)]="post.message"></textarea>

    <shared-upload-image-component
      *ngIf="isToogleUploadComponentVisible"
      [uploadOptions]="{'queueLimit': 4, 'event': 'postPost'}"
      (uploadComplete)="onUploadComplete($event)"
    ></shared-upload-image-component>

    <div class="text-right options">
      <label
        class="img-upload flat-btn"
        (click)="isToogleUploadComponentVisible = !isToogleUploadComponentVisible"
      >
        <i class="material-icons">image</i>
      </label>
      <button
        type="submit"
        class="btn-peersview-primary btn-peersview-sm"
        [disabled]="isButtonDisabledOnSubmit"
        (click)="onAddPost();"
      >
        Add Post
      </button>
    </div>
  </div>
  <!-- POLL -->
  <div
    class="poll"
    *ngIf="typePost === 'poll'"
  >
    <form>
      <textarea
        class="form-control"
        name="post-poll-question"
        [(ngModel)]="post.postPoll.question"
        placeholder="Ask something..."
      >
      </textarea>
      <ul class="poll-option">
        <li *ngFor="let item of postPoll.options; let i = index;">
          <input
            class="form-control"
            type="text"
            placeholder="Add an option"
            [name]="'option-' + i"
            [(ngModel)]="post.postPoll.options[i]"
          />
        </li>
      </ul>
      <div>
        <a
          id="add-poll-opt"
          class="btn-add-new"
          (click)="onAddPollOption()"
        >
          Add New
        </a> <br/>
        <p
          class="text-danger"
          style="margin-left:11px;"
          *ngIf="errorMessage"
        >
          {{this.errorMessage}}
        </p>
      </div>
      <div class="bottom-block">
        <div class="duration-poll">
          <div class="duration-label">
            <span>Poll Duration(Days):</span>
          </div>
          <div class="duration-form">
            <button 
              class="col-xs-2"
              (click)="onClickDuration('deduct')"
            >
              <i class="material-icons">
                remove
              </i>
            </button>
            <input
              name="newPollDuration"
              type="number"
              class="col-xs-8 poll-duration-input"
              [(ngModel)]="post.postPoll.duration"
            />
            <button 
              class="col-xs-2" 
              (click)="onClickDuration('add')"
            >
              <i class="material-icons">
                add
              </i>
            </button>
          </div>
        </div>
        <button
          class="btn btn-peersview-primary btn-sm post-btn poll-btn"
          type="submit"
          [disabled]="isButtonDisabledOnSubmit"
          (click)="onAddPoll()"
        >
          ADD POST
        </button>
      </div>
    </form>
  </div>
  <!-- Share a Story -->
  <div
    class="share"
    *ngIf="typePost === 'share'"
  >
    SHARE
  </div>
</div>
